(()=>{"use strict";const e=window.wp.element,{i18n:{__,sprintf:t},hooks:{addFilter:l,applyFilters:n},components:{Placeholder:a,BaseControl:r,ExternalLink:o,Spinner:c,Button:s},element:{useState:i}}=wp,{fields:d}=wecodeartGoogleExtension;l("wecodeart.admin.extensions","wecodeart/google/admin/panel",(function(t){return[...t,{name:"wca-google",title:__("Google Connect","wca-google"),render:t=>(0,e.createElement)(m,t)}]}));const m=t=>{const{isRequesting:l,wecodeartSettings:m,saveEntityRecord:u,createNotice:g}=t;if(l||!m)return(0,e.createElement)(a,{icon:(0,e.createElement)(c,null),label:__("Loading","wca-google"),instructions:__("Please wait, loading settings...","wca-google")});let E=n("wecodeart.admin.extensions.google.fields",d,t);E=E.filter((e=>{let{id:t="",label:l=""}=e;return""!==t&&""!==l}));const[w,b]=i(null),p=d.map((e=>e.id)),f=Object.fromEntries(Object.entries(m).filter((e=>{let[t]=e;return p.includes(t)}))),[h,v]=i(f),y=()=>(b(!1),g("success",__("Settings saved.","wca-google")));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"table-responsive"},(0,e.createElement)("table",{className:"wecodeart-table table table-bordered table-hover"},(0,e.createElement)("thead",null,(0,e.createElement)("tr",{style:{textAlign:"left"}},(0,e.createElement)("th",null,__("Service","wca-google")),(0,e.createElement)("th",null,__("Code","wca-google")),(0,e.createElement)("th",null,__("Actions","wca-google")))),(0,e.createElement)("tbody",null,d.map((t=>{let{id:l,label:n,externalUrl:a="",placeholder:c}=t;return(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("strong",null,n)),(0,e.createElement)("td",null,(0,e.createElement)(r,{className:"wecodeart-button-field",id:l,key:l},(0,e.createElement)("input",{id:l,type:"text",value:h[l],placeholder:c,onChange:e=>{let{target:{value:t}}=e;return v({...h,[l]:t})}}))),(0,e.createElement)("td",null,(0,e.createElement)("div",{className:"wecodeart-button-group"},""!==a&&(0,e.createElement)(o,{href:a,className:"wecodeart-button-group__item"},__("More info","wca-google")))))}))))),(0,e.createElement)(s,{className:"button",isPrimary:!0,isLarge:!0,icon:w&&(0,e.createElement)(c,null),onClick:()=>{b(!0);const e=Object.keys(h).reduce(((e,t)=>(e[t]=""===h[t]?"unset":h[t],e)),{});u("wecodeart","settings",e).then(y)},disabled:w},w?"":__("Save","wecodeart")))}})();